# 🗓️ BYOB 專案 - 明日任務安排（2025-08-13）

## 📋 今日完成項目（2025-08-12）

### ✅ 已完成：
1. **餐廳業者註冊流程修正**
   - 修正"邀請碼不能為空"錯誤
   - 解決表單處理中的參數傳遞問題
   - 註冊流程測試成功，業者可以正常登入

2. **會員系統方案討論**
   - 分析邀請碼設計的優缺點
   - 比較方案一（自定義會員介面）vs 方案二（修改 WooCommerce）
   - 決定採用方案二：修改 WooCommerce 會員系統

---

## 🎯 明日任務：採用方案二建置餐廳業者會員系統

### 🔴 最高優先級：餐廳業者專用選單建置

#### 1. 自定義 WooCommerce 會員選單（預計 2 小時）
**目標：** 讓餐廳業者看到專用的選單，而不是通用的電商選單

**實作內容：**
- [ ] **隱藏不相關選單項目**
  - 移除：訂單、下載次數、地址、Wishlist
  - 保留：控制台、登出

- [ ] **添加餐廳專用選單**
  - 餐廳控制台
  - 餐廳資料編輯
  - 照片管理
  - 菜單管理

- [ ] **選單順序調整**
  - 控制台 → 餐廳控制台 → 餐廳資料編輯 → 照片管理 → 菜單管理 → 登出

#### 2. 餐廳控制台頁面建置（預計 2 小時）
**目標：** 建立餐廳業者專用的控制台首頁

**實作內容：**
- [ ] **餐廳概覽資訊**
  - 餐廳名稱和狀態
  - 最後更新時間
  - 快速操作按鈕

- [ ] **快速操作區塊**
  - 編輯餐廳資料
  - 管理照片
  - 管理菜單

- [ ] **統計資訊顯示**
  - 餐廳頁面訪問次數
  - 評論數量
  - 照片數量

### 🟡 中等優先級：餐廳資料管理功能

#### 3. 餐廳資料編輯表單（預計 2 小時）
**目標：** 讓業者可以編輯餐廳基本資料

**實作內容：**
- [ ] **基本資料表單**
  - 餐廳名稱（必填）
  - 餐廳描述
  - 營業時間
  - 聯絡電話
  - 地址

- [ ] **LOGO 上傳功能**
  - 支援 JPG、PNG、GIF 格式
  - 檔案大小限制 2MB
  - 預覽當前 LOGO
  - 上傳新 LOGO 替換

- [ ] **表單驗證和提交**
  - 必填欄位驗證
  - 資料更新成功提示
  - 錯誤處理

#### 4. LOGO 顯示功能整合（預計 1.5 小時）
**目標：** 讓上傳的 LOGO 在網站各處顯示

**實作內容：**
- [ ] **單一餐廳頁面顯示**
  - 在餐廳標題上方顯示 LOGO
  - 支援點擊放大
  - 響應式設計

- [ ] **餐廳列表頁面顯示**
  - 圓形 LOGO 縮圖
  - 統一尺寸和樣式
  - 預設 LOGO 處理

- [ ] **會員頁面預覽**
  - 顯示當前使用的 LOGO
  - 上傳後即時預覽

### 🟢 低優先級：進階功能建置

#### 5. 照片管理功能（預計 1 小時）
**目標：** 讓業者可以管理餐廳照片

**實作內容：**
- [ ] **照片上傳介面**
  - 多張照片上傳
  - 照片排序功能
  - 照片刪除功能

- [ ] **照片預覽**
  - 縮圖預覽
  - 點擊放大查看
  - 照片說明編輯

---

## 🛠️ 技術實作重點

### 📁 需要修改的檔案：
1. `restaurant-member-functions.php` - 添加選單自定義和頁面內容
2. `functions.php` - 添加必要的輔助函數
3. `single-restaurant.php` - 添加 LOGO 顯示
4. `archive-restaurant.php` - 添加 LOGO 顯示

### 🔧 使用的 WordPress 技術：
- **鉤子系統**：`add_filter('woocommerce_account_menu_items')`
- **端點系統**：`add_rewrite_endpoint()`
- **媒體處理**：`media_handle_upload()`
- **Meta 資料**：`update_post_meta()`

### 📊 資料儲存結構：
- 餐廳 LOGO：`_restaurant_logo` (attachment ID)
- 餐廳資料：`business_hours`, `phone`, `address` 等

---

## 🎯 明日目標

**主要目標：** 完成餐廳業者專用會員系統的基本架構，讓業者可以管理餐廳資料和上傳 LOGO

**預期成果：**
1. 餐廳業者登入後看到專用選單，不再是通用電商選單
2. 有專用的餐廳控制台頁面
3. 可以編輯餐廳基本資料
4. 可以上傳和管理餐廳 LOGO
5. LOGO 在餐廳頁面和列表頁面正確顯示
6. 系統穩定，沒有錯誤訊息

---

## 📝 工作流程

### 上午（9:00-12:00）：
1. 建置自定義選單系統
2. 建立餐廳控制台頁面

### 下午（13:00-17:00）：
1. 建置餐廳資料編輯功能
2. 整合 LOGO 上傳和顯示
3. 測試所有功能

---

## 🚨 注意事項

1. **不要修改 WooCommerce 外掛檔案**：使用 WordPress 鉤子系統
2. **測試每個功能**：確保修改後系統仍能正常運作
3. **備份重要資料**：修改前先備份相關檔案
4. **記錄修改內容**：方便後續維護和除錯

---

*最後更新：2025-01-07*
*負責人：[您的姓名]*
*明日重點：採用方案二建置餐廳業者會員系統*