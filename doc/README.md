# 台北 BYOB 餐廳資料庫專案說明（2025-08-03 更新）

本專案致力於打造一個讓民眾能快速查詢「台北市可自帶酒水（BYOB）」餐廳的資訊平台，並協助餐廳主動登錄資料。專案採用 WordPress 作為後台資料管理與資料庫平台，並預計開發 React App 作為前端介面，供行動裝置使用者快速查詢與篩選使用。

---

## 📌 最新進度概要（2025-08-03）

### ✅ Contact 頁面設計完成

* 完成 Contact 頁面的整體佈局和結構設計
* 設計用戶聯絡表單（姓名、Email、主題、訊息、電話）
* 設計聯絡資訊展示區塊
* 使用深酒紅色主調，確保與整體設計風格一致
* 完成響應式設計，確保手機版體驗良好
* 加入餐廳推薦引導，連結到 Google 表單

### ✅ Contact Form 7 表單設定完成

* 建立完整的聯絡表單結構
* 設定必填欄位驗證（姓名、Email、聯絡主題、訊息）
* 設計聯絡主題選項：一般問題、網站使用問題、餐廳資訊錯誤回報、合作提案、其他
* 加入電話號碼選填欄位
* 設定表單提交成功和失敗訊息
* 完成表單樣式設計，符合品牌色彩

### ✅ WP Mail SMTP 外掛安裝與設定

* 安裝 WP Mail SMTP 外掛
* 完成 Google Cloud Console 設定：
  - 建立 BYOB-Taipei 專案
  - 啟用 Gmail API
  - 建立 OAuth 2.0 用戶端 ID
  - 設定 OAuth 同意畫面
  - 加入測試使用者 byobmap.tw@gmail.com
* 完成 Gmail SMTP 連接設定
* 設定寄件者資訊：BYOBMAP <byobmap.tw@gmail.com>
* 測試郵件發送功能，確認正常運作

### ✅ Contact Form 7 郵件功能完成

* 設定郵件收件者：byobmap.tw@gmail.com
* 設計專業的 HTML 郵件範本
* 包含寄件者資訊、聯絡主題、訊息內容
* 加入深酒紅色邊框和品牌元素
* 設定 Reply-To 功能
* 完成郵件發送測試，確認功能正常

### ✅ FAQ 系統設計完成

* 設計主頁面 FAQ 區塊（4個核心問題）：
  - 什麼是 BYOB？
  - 如何找到最適合的 BYOB 餐廳？
  - 開瓶費大概多少？
  - 如何推薦新的 BYOB 餐廳？
* 設計完整 FAQ 頁面：
  - 用戶 FAQ（10個問題）
  - 餐廳業者 FAQ（6個問題）
* 加入 CTA 連結到完整 FAQ 頁面
* 使用「你」而非「您」，保持親切感

### ✅ 主頁面視覺設計完成

* 完成 Hero 區塊設計：台北 BYOB 餐廳地圖
* 設計「什麼是 BYOB」介紹區塊
* 加入視覺分隔器，區分不同內容區塊
* 使用 Flatsome 主題的設計元素
* 確保響應式設計效果
* 完成整體頁面佈局和視覺平衡

### ✅ Google Cloud 設定完成

* 建立 byobmap.tw@gmail.com Gmail 帳號
* 完成 Google Cloud Console 專案設定
* 解決 OAuth 驗證問題
* 設定測試使用者權限
* 確認郵件發送功能正常運作

---

## 🗂️ 已完成項目

* 熱門區域桌機與手機版完成
* 熱門餐廳類型手機版完成
* 精選餐廳桌機版 Grid 確立，手機版 Slider 完成
* 桌機版 hover 效果設定完成
* Slider 導覽樣式優化完成
* 設計規劃工作完成
* 技術問題解決完成
* 餐廳類型複選功能完成
* Apps Script 開瓶費邏輯修正完成
* PHP 檔案複選處理邏輯建立完成
* Google 表單匯入方案規劃完成
* PHP 檔案 emoji 亂碼問題修正完成
* 開酒服務欄位邏輯修改完成
* 開瓶費說明欄位邏輯修改完成
* Apps Script 電話號碼處理邏輯修正完成
* Logo 設計概念生成與選擇完成
* Logo 設計完成與優化完成
* About 頁面設計與內容撰寫完成
* 網站頁面最後微調完成
* Google 表單自動導入 WordPress 方案規劃完成
* Contact 頁面設計和功能設定完成
* Contact Form 7 表單設定完成
* WP Mail SMTP 外掛安裝與設定完成
* Contact Form 7 郵件功能完成
* FAQ 系統設計完成
* 主頁面視覺設計完成
* Google Cloud 設定完成

---

## 🗓 明日預定任務

1. 實作 Google 表單自動導入 WordPress 功能
2. 設計並實作會員系統（用戶和餐廳）
3. 建立完整的資料流程文件
4. 確保所有功能正確運作

---

## 🎨 設計規範

### 色彩系統
* **主要色彩**：深酒紅色 `#8b2635`
* **輔助色彩**：深灰黑色 `#1a1a1a`
* **背景色彩**：白色 `#ffffff`

### Logo 設計規範
* **主概念**：高腳杯與地圖融合設計
* **色彩**：深酒紅色主調，符合專案色彩規範
* **風格**：扁平化設計，適合 logo 需求
* **應用**：網站 header、App 圖示、宣傳材料
* **最終版本**：深酒紅色高腳杯 + 地圖網格 + 定位圖釘，深酒紅色「BYOBMAP」文字，白色背景，文字陰影效果

### 圖片規範
* **比例**：4:3（餐廳類型圖片）、16:9（橫幅圖片）
* **風格**：深酒紅色調、專業攝影風格、符合 BYOB 氛圍
* **命名**：`restaurant_type_[類型]_[編號].png`

### 技術規範
* **Slider 設定**：80% Slide Width + Center Align
* **Hover 效果**：Zoom + Remove Overlay
* **CSS 選擇器**：使用專用 class 避免衝突
* **複選欄位處理**：使用 `is_array()` 檢查，`implode()` 合併
* **顯示格式**：餐廳類型用「 / 」，酒器設備用「、」

---

## 🔧 技術架構

### ACF 欄位設定
* **餐廳類型**：Checkbox 複選，最多三種
* **酒器設備**：Checkbox 複選（規劃中）
* **開瓶費**：單選，但需要處理子層級資訊
* **開酒服務**：支援「其他」選項和說明

### PHP 檔案修改
* **archive-restaurant.php**：支援複選顯示
* **single_restaurant.php**：支援複選顯示
* **安全性處理**：使用 `esc_html()` 確保輸出安全

### Apps Script 優化
* **開瓶費邏輯**：清理選項名稱，移除括號說明
* **電話號碼處理**：修正前導 0 消失問題
* **資料轉換**：統一格式處理
* **錯誤處理**：建立檢查報告機制

### Contact Form 7 設定
* **表單結構**：姓名、Email、聯絡主題、訊息、電話
* **必填欄位**：姓名、Email、聯絡主題、訊息
* **聯絡主題選項**：一般問題、網站使用問題、餐廳資訊錯誤回報、合作提案、其他
* **郵件範本**：HTML 格式，包含品牌元素
* **寄件者設定**：BYOBMAP <byobmap.tw@gmail.com>

### WP Mail SMTP 設定
* **郵件服務**：Gmail OAuth 2.0
* **寄件者帳號**：byobmap.tw@gmail.com
* **Google Cloud 專案**：BYOB-Taipei
* **OAuth 設定**：外部使用者，測試模式
* **郵件格式**：HTML，支援品牌色彩

### FAQ 系統設計
* **主頁面 FAQ**：4個核心問題，行銷導向
* **完整 FAQ 頁面**：用戶 FAQ（10個）、餐廳業者 FAQ（6個）
* **語言風格**：使用「你」而非「您」，保持親切感
* **CTA 設計**：引導到完整 FAQ 頁面

### Logo 設計規範
* **主概念**：高腳杯與地圖融合設計
* **色彩**：深酒紅色主調，符合專案色彩規範
* **風格**：扁平化設計，適合 logo 需求
* **應用**：網站 header、App 圖示、宣傳材料

### About 頁面設計重點
* **開場問句**：「你是不是也想在享用美食的時候，搭配你珍藏的美酒？」
* **內容結構**：問題描述 → 解決方案 → 使用場景 → 行動召喚
* **視覺設計**：深酒紅色主調，簡潔現代設計
* **推廣策略**：強調平台價值和專業性

---

## 📊 資料庫欄位（12個主要欄位）

1. **餐廳名稱**：文字欄位
2. **餐廳類型**：Checkbox 複選（台式、法式、義式、日式、美式、小酒館、咖啡廳、私廚、異國料理、燒烤、火鍋、牛排、Lounge Bar、Buffet）
3. **行政區**：下拉選單
4. **地址**：文字欄位
5. **是否收開瓶費**：單選（不收費/酌收/其他）
6. **開瓶費說明**：條件式文字欄位
7. **提供酒器設備**：Checkbox 複選（酒杯、開瓶器、冰桶、醒酒器、無提供）
8. **是否提供開酒服務**：單選（是/否/其他）+ 條件式說明
9. **餐廳聯絡電話**：文字欄位（自動格式化）
10. **官方網站/社群連結**：URL 欄位
11. **備註說明**：文字區域
12. **餐廳照片**：圖片上傳

---

## 🔄 完整流程

### 餐廳申請上架流程
1. **挑選與接觸潛力餐廳**：根據爬蟲資料或社群推薦找潛在支援 BYOB 的餐廳
2. **餐廳填寫申請表單**：表單內容包含所有主要資料庫欄位
3. **人工審核與補資料**：每週由管理者檢視表單資料
4. **轉為 WordPress 餐廳文章**：將轉換後資料手動匯入 WordPress 後台
5. **同步顯示於 App**：WordPress 餐廳資料自動開放於 REST API
6. **通知餐廳與感謝曝光**：發信或私訊通知餐廳「已成功上架」

### 資料流程
* **Google 表單** → **Google Sheets** → **Apps Script 轉換** → **WordPress 後台** → **前端顯示**

### 聯絡表單流程
* **用戶提交表單** → **Contact Form 7 處理** → **WP Mail SMTP 發送** → **byobmap.tw@gmail.com 接收**

---

本日進度完成 Contact 頁面設計、FAQ 系統設計、郵件系統設定、主頁面視覺設計。整體網站基礎功能趨於完善，為明日 Google 表單自動導入和會員系統開發奠定良好基礎。 