# 台北 BYOB 餐廳資料爬蟲專案

本專案目的為建立台北地區支援 BYOB（自帶酒水）餐廳的資料庫，包含地區、開瓶費、設備等資訊，供 App 與網站查詢功能使用。

---

## 📦 專案結構簡述

* `crawler/byob_scraper.py`: 主爬蟲程式，整合 Google Maps API、自動擷取餐廳資訊並判斷開瓶費與設備。
* `data/seed_list_raw.txt`: 初始餐廳清單，每行格式為「餐廳名稱 # 資料來源」。
* `data/BYOB 台北餐廳資料庫.csv`: 最終資料輸出表，遵循 11 欄主欄位格式。
* `doc/`: 存放進度說明、任務提示與原始 README。

---

## ✅ 近期進度（2025-06-20）

### 🛠️ 功能實作

* Google Maps API 整合，查詢：

  * 地址（中文格式）
  * 電話
  * 官方網站連結
  * 類型分類（西式、酒吧、咖啡館）

* 自動解析：

  * 台北行政區自動擷取
  * 類型分類自動推論

* 擴充功能模組：

  * `detect_corkage_fee(text)`: 判斷是否收開瓶費，含金額擷取與中文/英文關鍵字比對
  * `detect_equipment(text)`: 擷取描述文字是否提及酒杯、開瓶器、冰桶等設備
  * 網站描述由 `extract_website_text()` 擷取文字摘要作為分析基礎

* 結果輸出：

  * 顯示每間餐廳擷取結果（開瓶費、設備、備註）於 Terminal log
  * 自動寫入主 CSV，欄位包含「是否收開瓶費」、「提供酒器設備」、「備註說明」等

### 🧪 擷取狀態分析

* 多數餐廳因網站無明示或描述簡略，結果為「不確定」或「未知」
* 少數命中條件（如：巷子龍家常菜標示免開瓶費）
* 下一步將擴充關鍵字並記錄描述內容供人工分析

---

## 🚧 下一步建議任務（2025-06-21）

1. 匯出「不確定／未知」餐廳清單供人工審核
2. 紀錄每筆描述文字摘要（description\_log.csv）
3. 擴充開瓶費與設備判斷的關鍵字清單（含中英混合與多型態語句）
4. 分析命中樣本語意，優化正規表達式與比對策略

---

如需執行爬蟲，請確保 `.env` 檔已正確設定 `GOOGLE_MAPS_API_KEY`。程式將自動從 `seed_list_raw.txt` 擷取資料並寫入 `data/BYOB 台北餐廳資料庫.csv`。
